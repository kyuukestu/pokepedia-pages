import{d as k,x as b,c as F,o as v,e as p,w as l,a,f as o,k as g,B as C,h as r,g as f,A as N,ac as _,ad as S,i as y,t as m,j as $,b as L,q as U,aa as j,ab as z,v as D,ai as M,r as K,aj as B,F as q,C as Y,n as I,ah as Q}from"./index-D0Yz9l1P.js";const R={class:"section-header"},W={class:"text-h5"},G={key:0,class:"pokemon-stats mt-4"},H={class:"move-header"},J={class:"text-h5 font-weight-bold"},O={class:"move-info-item"},X={class:"move-value"},Z={class:"move-info-item"},ee={class:"move-value"},te={class:"move-info-item"},ae={class:"move-value"},le={class:"move-info-item"},ye=k({__name:"FMoveCalc",setup(E){const i=b({name:"",bp:0,priority:0,type:{name:""},flavor_text_entries:[],isLoading:!1,error:null}),c=b(0),x=b(0),V=b(0),w=b(0),A=(n,e,t,d)=>{typeof n!="number"&&(n=0);let s=Math.round(n/20);console.log("base power is:",n),console.log("cost",s),s+=e*3,console.log("stat changes",e),console.log("cost",s),s+=t*3,console.log("secondary effects",t),console.log("cost",s),s+=d*5,console.log("field effects",d),console.log("cost",s),w.value=s},h=async n=>{var t;if(!n.trim()){i.value={name:"",isLoading:!1,error:null,bp:0,priority:0,type:{name:""},flavor_text_entries:[]};return}const e=i.value;e.isLoading=!0,e.error=null;try{const d=await fetch(`https://pokeapi.co/api/v2/move/${n.toLowerCase().trim().replace(/\s+/g,"-").replace(/'/g,"").replace(/$-/g,"")}`);if(!d.ok)throw new Error("Move not found");const s=await d.json();e.name=s.name.split("-").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" "),e.bp=s.power!==null&&s.power!==void 0?s.power.toString():"N/A",e.priority=s.priority.toString(),e.type.name=s.type.name,e.flavor_text_entries=((t=s.flavor_text_entries.filter(u=>u.language.name==="en").pop())==null?void 0:t.flavor_text)||"No English description available",i.value={name:e.name,bp:e.bp,priority:e.priority,type:e.type,flavor_text_entries:e.flavor_text_entries,isLoading:!1,error:null}}catch(d){console.error("Error fetching move data:",d)}};return(n,e)=>(v(),F(p,{cols:"12",md:"6",class:"mx-auto"},{default:l(()=>[a(y,{elevation:"8",class:"pa-6 glass-card hover-lift"},{default:l(()=>[o("div",R,[o("h3",W,[a(f,{class:"mr-2"},{default:l(()=>e[8]||(e[8]=[r("mdi-sword-cross")])),_:1,__:[8]}),e[9]||(e[9]=r(" Move Calculator "))])]),a(N,{type:"warning",class:"mt-4",variant:"tonal",rounded:""},{default:l(()=>[a(f,null,{default:l(()=>e[10]||(e[10]=[r("mdi-construction")])),_:1,__:[10]}),e[11]||(e[11]=o("strong",null,"Work in Progress!",-1)),e[12]||(e[12]=o("br",null,null,-1)),e[13]||(e[13]=r(" Manual entry required for stat changes, secondary effects, and field effects. Enhanced automation coming soon! "))]),_:1,__:[11,12,13]}),a(_,{modelValue:i.value.name,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value.name=t),label:"Move Name",variant:"outlined",density:"comfortable",onKeyup:e[1]||(e[1]=S(()=>h(i.value.name),["enter"])),clearable:"",class:"enhanced-input mt-4","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"]),i.value.name&&!i.value.isLoading&&!i.value.error?(v(),g("div",G,[a(y,{class:"move-details-card",elevation:"12",rounded:"lg"},{default:l(()=>[o("div",H,[a(f,{class:"mr-3",size:"large"},{default:l(()=>e[14]||(e[14]=[r("mdi-sword-cross")])),_:1,__:[14]}),o("span",J,m(i.value.name),1)]),a($,{class:"pa-6"},{default:l(()=>[a(L,null,{default:l(()=>[a(p,{cols:"12",md:"6"},{default:l(()=>[o("div",O,[a(U,{color:"primary",variant:"flat",size:"small",class:"mb-2 enhanced-chip"},{default:l(()=>[a(f,{start:""},{default:l(()=>e[15]||(e[15]=[r("mdi-flash")])),_:1,__:[15]}),e[16]||(e[16]=r(" Base Power "))]),_:1,__:[16]}),o("div",X,m(i.value.bp||"N/A"),1)])]),_:1}),a(p,{cols:"12",md:"6"},{default:l(()=>[o("div",Z,[a(U,{color:"warning",variant:"flat",size:"small",class:"mb-2 enhanced-chip"},{default:l(()=>[a(f,{start:""},{default:l(()=>e[17]||(e[17]=[r("mdi-speedometer")])),_:1,__:[17]}),e[18]||(e[18]=r(" Priority "))]),_:1,__:[18]}),o("div",ee,m(i.value.priority),1)])]),_:1}),a(p,{cols:"12",md:"6"},{default:l(()=>{var t;return[o("div",te,[a(U,{color:"info",variant:"flat",size:"small",class:"mb-2 enhanced-chip"},{default:l(()=>[a(f,{start:""},{default:l(()=>e[19]||(e[19]=[r("mdi-shield")])),_:1,__:[19]}),e[20]||(e[20]=r(" Type "))]),_:1,__:[20]}),o("div",ae,m(((t=i.value.type)==null?void 0:t.name)||"Unknown"),1)])]}),_:1}),a(p,{cols:"12"},{default:l(()=>[o("div",le,[a(U,{color:"purple",variant:"flat",size:"small",class:"mb-3 enhanced-chip"},{default:l(()=>[a(f,{start:""},{default:l(()=>e[21]||(e[21]=[r("mdi-text")])),_:1,__:[21]}),e[22]||(e[22]=r(" Description "))]),_:1,__:[22]}),a(y,{variant:"tonal",class:"flavor-text-card"},{default:l(()=>[a($,{class:"text-body-1 font-italic"},{default:l(()=>[r(m(i.value.flavor_text_entries||"No description available"),1)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),a(y,{class:"mt-4 glass-card",elevation:"4"},{default:l(()=>[a($,null,{default:l(()=>[a(j,{onSubmit:e[7]||(e[7]=z(()=>{},["prevent"]))},{default:l(()=>[a(L,null,{default:l(()=>[a(p,{cols:"12",md:"4"},{default:l(()=>[a(_,{modelValue:x.value,"onUpdate:modelValue":e[2]||(e[2]=t=>x.value=t),label:"Stat Changes",variant:"outlined",type:"number",min:"0",class:"enhanced-input","prepend-inner-icon":"mdi-trending-up"},null,8,["modelValue"])]),_:1}),a(p,{cols:"12",md:"4"},{default:l(()=>[a(_,{modelValue:c.value,"onUpdate:modelValue":e[3]||(e[3]=t=>c.value=t),label:"Secondary Effects",variant:"outlined",type:"number",min:"0",class:"enhanced-input","prepend-inner-icon":"mdi-star"},null,8,["modelValue"])]),_:1}),a(p,{cols:"12",md:"4"},{default:l(()=>[a(_,{modelValue:V.value,"onUpdate:modelValue":e[4]||(e[4]=t=>V.value=t),label:"Field Effects",variant:"outlined",type:"number",min:"0",class:"enhanced-input","prepend-inner-icon":"mdi-earth"},null,8,["modelValue"])]),_:1})]),_:1}),a(D,{class:"mt-2 enhanced-btn",type:"submit",block:"",size:"large",onClick:e[5]||(e[5]=t=>A(i.value.bp,x.value,c.value,V.value))},{default:l(()=>[a(f,{start:""},{default:l(()=>e[23]||(e[23]=[r("mdi-calculator")])),_:1,__:[23]}),e[24]||(e[24]=r(" Calculate Cost "))]),_:1,__:[24]}),a(_,{modelValue:w.value,"onUpdate:modelValue":e[6]||(e[6]=t=>w.value=t),label:"Move Cost",variant:"outlined",disabled:"",class:"mt-4","prepend-inner-icon":"mdi-currency-usd"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])):C("",!0)]),_:1})]),_:1}))}}),se={class:"section-header"},oe={class:"text-h5"},ne={class:"d-flex flex-row flex-wrap gap-4 justify-space-between"},ie={key:0,class:"slot-number accent-text"},re={key:1,class:"text-center"},de=["src","alt"],ue={key:0,class:"pokemon-options mb-2"},me={key:1,class:"pokemon-stats stat-display"},ce={class:"d-flex flex-column align-center"},pe={class:"text-medium-emphasis"},fe={class:"text-medium-emphasis"},ve={class:"font-weight-bold accent-text"},_e={class:"text-body-1 mb-2"},ge={class:"accent-text"},xe=k({__name:"FPokeCalc",setup(E){const i=b(130),c=b(Array.from({length:6},()=>({name:"",bst:0,isLoading:!1,error:null,sprite:"",isAlpha:!1,additionalAbilities:0,inBox:!1}))),x=(n,e=!1,t=0,d=!1)=>{if(n===0)return 0;let s=2;e&&(s+=.25),t>0&&(s+=t*.1);let u=Math.round(Math.pow(s,n/100));return d&&(u=Math.round(u/4)),u},V=async(n,e)=>{if(!n.trim()){c.value[e]={name:"",bst:0,isLoading:!1,error:null,sprite:"",isAlpha:!1,additionalAbilities:0,inBox:!1};return}const t=c.value[e];t.isLoading=!0,t.error=null;try{const d=await fetch(`https://pokeapi.co/api/v2/pokemon/${n.toLowerCase().trim().replace(/\s+/g,"-").replace(/'/g,"").replace(/$-/g,"")}`);if(!d.ok)throw new Error("Pokemon not found");const s=await d.json(),u=s.stats.reduce((P,T)=>P+T.base_stat,0);t.name=s.name.charAt(0).toUpperCase()+s.name.slice(1),t.bst=u,t.sprite=s.sprites.front_default||"",t.isLoading=!1}catch(d){t.error="Pokemon not found: "+d.message,t.bst=0,t.sprite="",t.isLoading=!1}},w=n=>{c.value[n]={name:"",bst:0,isLoading:!1,error:null,sprite:"",isAlpha:!1,additionalAbilities:0,inBox:!1}},A=M(()=>c.value.reduce((n,e)=>n+x(e.bst,e.isAlpha,e.additionalAbilities,e.inBox),0)),h=M(()=>{const n=i.value-A.value;return Math.max(0,n)});return(n,e)=>(v(),F(p,{cols:"12",md:"6",class:"mx-auto"},{default:l(()=>[a(y,{elevation:"8",class:"pa-6 glass-card hover-lift"},{default:l(()=>[o("div",se,[o("h3",oe,[a(f,{class:"mr-2"},{default:l(()=>e[1]||(e[1]=[r("mdi-pokemon-go")])),_:1,__:[1]}),e[2]||(e[2]=r(" Team Calculator "))])]),a(_,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),modelModifiers:{number:!0},label:"Your Fortitude",type:"number",variant:"outlined",class:"mb-4 enhanced-input","prepend-inner-icon":"mdi-heart",min:"0"},null,8,["modelValue"]),e[6]||(e[6]=o("h4",{class:"text-h6 mb-3 accent-text"},"Your PokÃ©mon Team (6 slots)",-1)),o("div",ne,[(v(!0),g(q,null,K(c.value,(t,d)=>(v(),g("div",{key:d,class:"pokemon-slot text-center",style:{flex:"0 0 33.33%"}},[a(y,{class:"circular-card mb-2",variant:"outlined",color:t.name?"primary":"grey-lighten-3",style:{width:"150px",height:"150px","border-radius":"50%",display:"flex","align-items":"center","justify-content":"center",margin:"0 auto",background:`linear-gradient(
                135deg,
                rgba(102, 126, 234, 0.1),
                rgba(118, 75, 162, 0.1)
              )`,border:"2px solid rgba(255, 255, 255, 0.3)"}},{default:l(()=>[t.sprite?C("",!0):(v(),g("div",ie,"Slot "+m(d+1),1)),t.sprite?(v(),g("div",re,[o("img",{src:t.sprite,alt:t.name,class:"pokemon-sprite",style:{"max-width":"120px","max-height":"120px"}},null,8,de)])):C("",!0)]),_:2},1032,["color"]),a(_,{modelValue:t.name,"onUpdate:modelValue":s=>t.name=s,onKeyup:S(()=>V(t.name,d),["enter"]),label:"Pokemon Name",variant:"outlined",density:"compact",loading:t.isLoading,error:!!t.error,"error-messages":t.error,clearable:"","onClick:clear":s=>w(d),class:"enhanced-input",style:{width:"150px"}},null,8,["modelValue","onUpdate:modelValue","onKeyup","loading","error","error-messages","onClick:clear"]),t.name&&!t.isLoading&&!t.error?(v(),g("div",ue,[a(B,{modelValue:t.isAlpha,"onUpdate:modelValue":s=>t.isAlpha=s,label:"Alpha",density:"compact",color:"orange","hide-details":""},null,8,["modelValue","onUpdate:modelValue"]),a(B,{modelValue:t.inBox,"onUpdate:modelValue":s=>t.inBox=s,label:"In Box",density:"compact",color:"green","hide-details":""},null,8,["modelValue","onUpdate:modelValue"]),a(_,{modelValue:t.additionalAbilities,"onUpdate:modelValue":s=>t.additionalAbilities=s,modelModifiers:{number:!0},label:"Extra Abilities",type:"number",variant:"outlined",density:"compact",min:"0",max:"5",class:"enhanced-input",style:{width:"150px"}},null,8,["modelValue","onUpdate:modelValue"])])):C("",!0),t.name&&!t.isLoading&&!t.error?(v(),g("div",me,[o("div",ce,[o("small",pe,"BST: "+m(t.bst),1),o("small",fe,[e[3]||(e[3]=r(" Upkeep: ")),o("span",ve,m(x(t.bst,t.isAlpha,t.additionalAbilities,t.inBox)),1)])])])):C("",!0)]))),128))]),a(Y,{class:"my-4"}),a(y,{class:"stat-display text-center"},{default:l(()=>[a($,null,{default:l(()=>[o("p",_e,[e[4]||(e[4]=r(" Total Upkeep Cost: ")),o("strong",ge,m(A.value),1)]),e[5]||(e[5]=o("p",{class:"text-h6 mb-2"},"Available for Moves:",-1)),o("p",{class:I(h.value<10?"text-red text-h3":"text-green text-h3")},m(h.value)+" Points ",3),a(Q,{"model-value":h.value/i.value*100,color:h.value<10?"red":"green",height:"8",rounded:"",class:"mt-2"},null,8,["model-value","color"])]),_:1,__:[5]})]),_:1})]),_:1,__:[6]})]),_:1}))}});export{ye as _,xe as a};
